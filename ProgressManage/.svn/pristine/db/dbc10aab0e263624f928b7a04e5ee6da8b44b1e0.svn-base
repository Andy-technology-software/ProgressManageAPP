//
//  OpportunityDetailsTableViewCell.m
//  ProgressManage
//
//  Created by Gem on 2017/6/1.
//  Copyright © 2017年 xurenqinag. All rights reserved.
//

#import "OpportunityDetailsTableViewCell.h"

@implementation OpportunityDetailsTableViewCell{
    UIView *_bgView;
    UIView *_topView;
    UILabel *_title;
    UILabel *_content;
   
    
}


- (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier{
    self=[super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
        //布局View
        self.backgroundColor = [UIColor clearColor];
        [self setUpView];
    }
    return self;
}

#pragma mark - setUpView
- (void)setUpView{
    _bgView = [UIView new];
    _bgView.backgroundColor = [UIColor whiteColor];
    
    _topView = [UIView new];
    _topView.backgroundColor = [MyController colorWithHexString:@"FCFCFC"];
    _topView.layer.cornerRadius = 5;
    _topView.clipsToBounds = YES;
    
    _title = [[UILabel alloc] init];
    _title.numberOfLines = 0;
    _title.textColor = [MyController colorWithHexString:@"abafbc"];
    _title.font = [UIFont systemFontOfSize:14];
    
    
    _content = [UILabel new];
    _content.textColor = [MyController colorWithHexString:@"abafbc"];
    _content.font = [UIFont systemFontOfSize:14];
    
    [_topView sd_addSubviews:@[_title,_content]];
    
    [_bgView sd_addSubviews:@[_topView]];
    NSArray *views = @[_bgView];
    [self.contentView sd_addSubviews:views];
}

- (void)setModel:(OpportunityDetailsModel *)model{
    _title.text = model.title;
    _content.text = model.content;
    
    NSInteger space = 10;
     _bgView.sd_layout
    .leftSpaceToView(self.contentView,space)
    .topEqualToView(self.contentView)
    .rightSpaceToView(self.contentView,space)
   ;
    
    _topView.sd_layout
    .leftSpaceToView(_bgView,space)
    .topEqualToView(_bgView)
    .rightSpaceToView(_bgView,space)
    ;
    
    _title.sd_layout
    .leftSpaceToView(_topView,space )
    .topSpaceToView(_topView,5)
    .widthIs(70)
    .autoHeightRatio(0);
    
    _content.sd_layout
    .leftSpaceToView(_title,space)
    .topSpaceToView(_topView,5)
    .rightSpaceToView(_topView,space)
    .autoHeightRatio(0);
    
    [_topView setupAutoHeightWithBottomView:_content bottomMargin:0];
    [_bgView setupAutoHeightWithBottomView:_topView bottomMargin:0];
    
    //***********************高度自适应cell设置步骤************************
    
    [self setupAutoHeightWithBottomView:_bgView bottomMargin:0];
 
    
}

@end
